# ==============================
# [서버 설정]
# ==============================

# Express 서버 포트
PORT=4000

# React (프론트엔드)에서 오는 요청 허용 도메인
CORS_ORIGIN=http://localhost:5173

# ==============================
# [데이터베이스 설정 - Prisma/MySQL]
# ==============================

# Docker로 띄운 MySQL 컨테이너에 연결
# user, password, db_name은 docker-compose.yml과 반드시 일치해야 함
DATABASE_URL="mysql://root:1234@localhost:3306/smart_door_db"

# ==============================
# [JWT (사용자 인증용)]
# ==============================

# JWT 서명용 시크릿 키 (깃 x)
JWT_SECRET=supersecret_jwt_key_for_smartdoor

# JWT 만료 시간 (초 단위)
JWT_EXPIRE=86400

# ==============================
# [MQTT (아두이노 ↔ 백엔드 통신)]
# ==============================

# 브로커 주소 (로컬 PC 혹은 Docker 네트워크)
# Mosquitto 브로커 포트: 1883 (기본)
MQTT_HOST=mqtt://localhost
MQTT_PORT=1883

# MQTT 인증 계정 (옵션)
MQTT_USERNAME=smartdoor_mqtt
MQTT_PASSWORD=smartdoor_mqtt_pw

# ==============================
# [기상청 API 설정]
# ==============================

# 공공데이터포털에서 발급받은 기상청 API 키
WEATHER_API_KEY=YOUR_WEATHER_API_KEY_HERE

# API 요청 URL (단기예보/중기예보)
WEATHER_API_URL=https://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst

# ==============================
# [디바이스/보안]
# ==============================

# 아두이노/ESP32 장치용 공유키 (테스트 단계)
DEVICE_SECRET=dev_device_key_2025

# MQTT 메시지 HMAC 검증용 (선택)
DEVICE_HMAC_KEY=dev_hmac_12345

# ==============================
# [도커 관련]
# ==============================

# 도커 환경에서 MySQL 컨테이너명
DOCKER_MYSQL_CONTAINER=mysql_smartdoor
DOCKER_NETWORK=smartdoor_net

# ==============================
# [로깅 및 디버깅]
# ==============================

# 로그 레벨 (error, warn, info, debug)
LOG_LEVEL=info

# ==============================
# [테스트 / 개발 모드]
# ==============================

# true이면 DB 자동 마이그레이션 및 더미 데이터 삽입
DEV_MODE=true
